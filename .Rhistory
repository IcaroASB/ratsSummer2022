theme_fivethirtyeight() +
theme(axis.title = element_text())
ggsave("graphStatenTotalN.png", height = 1440, width = 2560, units = "px")
graphStatenBlanket.static <- ggplot(df_Staten_Island_Num_Rats, aes(x = Year, y = numRats, color = Neighborhood)) +
geom_line(size = 1.5) +
scale_x_continuous(breaks = seq(2011,2021, by = 1)) +
scale_y_continuous(breaks = seq(0,250000, by = 25000)) +
labs (title = "Rat Population In Each Borough Over Time", subtitle = "Do rats proliferate faster in certain Boroughs?", x = "Year", y = "Population" ) +
theme_fivethirtyeight() +
theme(axis.title = element_text())
ggsave("graphStatenBlanket.png", height = 1440, width = 2560, units = "px")
graphStatenBlanket.static <- ggplot(df_Staten_Island_Num_Rats, aes(x = Year, y = numRats, color = Borough)) +
geom_line(size = 1.5) +
scale_x_continuous(breaks = seq(2011,2021, by = 1)) +
scale_y_continuous(breaks = seq(0,250000, by = 25000)) +
labs (title = "Rat Population In Each Borough Over Time", subtitle = "Do rats proliferate faster in certain Boroughs?", x = "Year", y = "Population" ) +
theme_fivethirtyeight() +
theme(axis.title = element_text())
ggsave("graphStatenBlanket.png", height = 1440, width = 2560, units = "px")
View(df_Stapleton_StGeorge)
View(df_Staten_Island_Num_Rats)
View(df_Staten_Island_Neighborhood_Rats)
View(df_Staten_Island)
View(df_The_Bronx)
View(df_The_Bronx)
capture_recapture_the_bronx_n1 <- function(year) {
lots_year_1 <- df_Central_Bronx %>% filter(Year == year - 1) %>% pull(BBL)
lots_year_2 <- df_Central_Bronx %>% filter(Year == year) %>% pull(BBL)
number_in_year_1 <- length(lots_year_1)
number_in_year_2 <- length(lots_year_2)
number_in_year_1_and_2 <- sum(lots_year_1 %in% lots_year_2)
50 * number_in_year_1 * number_in_year_2 / number_in_year_1_and_2
}
df_Central_Bronx <- sapply(2011:2021, capture_recapture_the_bronx_n1)
View(df_Central_Bronx)
capture_recapture_the_bronx <- function(year) {
lots_year_1 <- df_The_Bronx %>% filter(Year == year - 1) %>% pull(BBL)
lots_year_2 <- df_The_Bronx %>% filter(Year == year) %>% pull(BBL)
number_in_year_1 <- length(lots_year_1)
number_in_year_2 <- length(lots_year_2)
number_in_year_1_and_2 <- sum(lots_year_1 %in% lots_year_2)
50 * number_in_year_1 * number_in_year_2 / number_in_year_1_and_2
}
df_The_Bronx_Num_Rats <- sapply(2011:2021, capture_recapture_the_bronx)
df_The_Bronx_Num_Rats <- as.data.frame(df_The_Bronx_Num_Rats)
df_The_Bronx_Num_Rats <- df_The_Bronx_Num_Rats %>%
add_column(Borough = "BRONX",
.after = "df_The_Bronx_Num_Rats")
df_The_Bronx_Num_Rats <- df_The_Bronx_Num_Rats %>%
add_column(Year = 2011:2021,
.after = "Borough")
df_The_Bronx_Num_Rats <- rename(df_The_Bronx_Num_Rats, numRats = df_The_Bronx_Num_Rats)
capture_recapture_the_bronx_n1 <- function(year) {
lots_year_1 <- df_Central_Bronx %>% filter(Year == year - 1) %>% pull(BBL)
lots_year_2 <- df_Central_Bronx %>% filter(Year == year) %>% pull(BBL)
number_in_year_1 <- length(lots_year_1)
number_in_year_2 <- length(lots_year_2)
number_in_year_1_and_2 <- sum(lots_year_1 %in% lots_year_2)
50 * number_in_year_1 * number_in_year_2 / number_in_year_1_and_2
}
df_Central_Bronx <- sapply(2011:2021, capture_recapture_the_bronx_n1)
capture_recapture_the_bronx <- function(year) {
lots_year_1 <- df_The_Bronx %>% filter(Year == year - 1) %>% pull(BBL)
lots_year_2 <- df_The_Bronx %>% filter(Year == year) %>% pull(BBL)
number_in_year_1 <- length(lots_year_1)
number_in_year_2 <- length(lots_year_2)
number_in_year_1_and_2 <- sum(lots_year_1 %in% lots_year_2)
50 * number_in_year_1 * number_in_year_2 / number_in_year_1_and_2
}
df_The_Bronx_Num_Rats <- sapply(2011:2021, capture_recapture_the_bronx)
df_The_Bronx_Num_Rats <- as.data.frame(df_The_Bronx_Num_Rats)
df_The_Bronx_Num_Rats <- df_The_Bronx_Num_Rats %>%
add_column(Borough = "BRONX",
.after = "df_The_Bronx_Num_Rats")
df_The_Bronx_Num_Rats <- df_The_Bronx_Num_Rats %>%
add_column(Year = 2011:2021,
.after = "Borough")
df_The_Bronx_Num_Rats <- rename(df_The_Bronx_Num_Rats, numRats = df_The_Bronx_Num_Rats)
df_Central_Bronx <- df_NYC %>% filter(Zip%in% c(10453, 10457, 10460))
df_Central_Bronx$Neighborhood <- "CENTRAL BRONX"
df_Bronx_Park_Fordham <- df_NYC %>% filter(Zip%in% c(10458, 10467, 10468))
df_Bronx_Park_Fordham$Neighborhood <- "BRONX PARK AND FORDHAM"
df_High_Bridge_Morrisania <- df_NYC %>% filter(Zip%in% c(10451, 10452, 10456))
df_High_Bridge_Morrisania$Neighborhood <- "HIGH BRIDGE AND MORRISANIA"
df_Hunts_Point_Mott_Haven <- df_NYC %>% filter(Zip%in% c(10454, 10455, 10459, 10474))
df_Hunts_Point_Mott_Haven$Neighborhood <- "HUNTS POINT AND MOTT HAVEN"
df_Kingsbridge_Riverdale <- df_NYC %>% filter(Zip%in% c(10463, 10471))
df_Kingsbridge_Riverdale$Neighborhood <- "KINGSBRIDGE AND RIVERDALE"
df_Northeast_Bronx <- df_NYC %>% filter(Zip%in% c(10466, 10469, 10470, 10475))
df_Northeast_Bronx$Neighborhood <- "NORTHEAST BRONX"
df_Southeast_Bronx <- df_NYC %>% filter(Zip%in% c(10461, 10462, 10464, 10465, 10472, 10473))
df_Southeast_Bronx$Neighborhood <- "SOUTHEAST BRONX"
df_The_Bronx <- rbind(df_Central_Bronx, df_Bronx_Park_Fordham, df_High_Bridge_Morrisania, df_Hunts_Point_Mott_Haven, df_Kingsbridge_Riverdale, df_Northeast_Bronx, df_Southeast_Bronx)
capture_recapture_the_bronx <- function(year) {
lots_year_1 <- df_The_Bronx %>% filter(Year == year - 1) %>% pull(BBL)
lots_year_2 <- df_The_Bronx %>% filter(Year == year) %>% pull(BBL)
number_in_year_1 <- length(lots_year_1)
number_in_year_2 <- length(lots_year_2)
number_in_year_1_and_2 <- sum(lots_year_1 %in% lots_year_2)
50 * number_in_year_1 * number_in_year_2 / number_in_year_1_and_2
}
df_The_Bronx_Num_Rats <- sapply(2011:2021, capture_recapture_the_bronx)
df_The_Bronx_Num_Rats <- as.data.frame(df_The_Bronx_Num_Rats)
df_The_Bronx_Num_Rats <- df_The_Bronx_Num_Rats %>%
add_column(Borough = "BRONX",
.after = "df_The_Bronx_Num_Rats")
df_The_Bronx_Num_Rats <- df_The_Bronx_Num_Rats %>%
add_column(Year = 2011:2021,
.after = "Borough")
df_The_Bronx_Num_Rats <- rename(df_The_Bronx_Num_Rats, numRats = df_The_Bronx_Num_Rats)
capture_recapture_the_bronx_n1 <- function(year) {
lots_year_1 <- df_Central_Bronx %>% filter(Year == year - 1) %>% pull(BBL)
lots_year_2 <- df_Central_Bronx %>% filter(Year == year) %>% pull(BBL)
number_in_year_1 <- length(lots_year_1)
number_in_year_2 <- length(lots_year_2)
number_in_year_1_and_2 <- sum(lots_year_1 %in% lots_year_2)
50 * number_in_year_1 * number_in_year_2 / number_in_year_1_and_2
}
df_Central_Bronx <- sapply(2011:2021, capture_recapture_the_bronx_n1)
df_Central_Bronx <- as.data.frame(df_Central_Bronx)
df_Central_Bronx <- df_Central_Bronx %>%
add_column(Neighborhood = "CENTRAL BRONX",
.after = "df_Central_Bronx")
df_Central_Bronx <- df_Central_Bronx %>%
add_column(Year = 2011:2021,
.after = "Neighborhood")
df_Central_Bronx <- rename(df_Central_Bronx, numRats = df_Central_Bronx)
capture_recapture_the_bronx_n2 <- function(year) {
lots_year_1 <- df_Bronx_Park_Fordham %>% filter(Year == year - 1) %>% pull(BBL)
lots_year_2 <- df_Bronx_Park_Fordham %>% filter(Year == year) %>% pull(BBL)
number_in_year_1 <- length(lots_year_1)
number_in_year_2 <- length(lots_year_2)
number_in_year_1_and_2 <- sum(lots_year_1 %in% lots_year_2)
50 * number_in_year_1 * number_in_year_2 / number_in_year_1_and_2
}
df_Bronx_Park_Fordham <- sapply(2011:2021, capture_recapture_the_bronx_n2)
df_Bronx_Park_Fordham <- as.data.frame(df_Bronx_Park_Fordham)
df_Bronx_Park_Fordham <- df_Bronx_Park_Fordham %>%
add_column(Neighborhood = "BRONX PARK AND FORDHAM",
.after = "df_Bronx_Park_Fordham")
df_Bronx_Park_Fordham <- df_Bronx_Park_Fordham %>%
add_column(Year = 2011:2021,
.after = "Neighborhood")
df_Bronx_Park_Fordham <- rename(df_Bronx_Park_Fordham, numRats = df_Bronx_Park_Fordham)
capture_recapture_the_bronx_n3 <- function(year) {
lots_year_1 <- df_High_Bridge_Morrisania %>% filter(Year == year - 1) %>% pull(BBL)
lots_year_2 <- df_High_Bridge_Morrisania %>% filter(Year == year) %>% pull(BBL)
number_in_year_1 <- length(lots_year_1)
number_in_year_2 <- length(lots_year_2)
number_in_year_1_and_2 <- sum(lots_year_1 %in% lots_year_2)
50 * number_in_year_1 * number_in_year_2 / number_in_year_1_and_2
}
df_High_Bridge_Morrisania <- sapply(2011:2021, capture_recapture_the_bronx_n3)
df_High_Bridge_Morrisania <- as.data.frame(df_High_Bridge_Morrisania)
df_High_Bridge_Morrisania <- df_High_Bridge_Morrisania %>%
add_column(Neighborhood = "HIGH BRIDGE AND MORRISANIA",
.after = "df_High_Bridge_Morrisania")
df_High_Bridge_Morrisania <- df_High_Bridge_Morrisania %>%
add_column(Year = 2011:2021,
.after = "Neighborhood")
df_High_Bridge_Morrisania <- rename(df_High_Bridge_Morrisania, numRats = df_High_Bridge_Morrisania)
capture_recapture_the_bronx_n4 <- function(year) {
lots_year_1 <- df_Hunts_Point_Mott_Haven %>% filter(Year == year - 1) %>% pull(BBL)
lots_year_2 <- df_Hunts_Point_Mott_Haven %>% filter(Year == year) %>% pull(BBL)
number_in_year_1 <- length(lots_year_1)
number_in_year_2 <- length(lots_year_2)
number_in_year_1_and_2 <- sum(lots_year_1 %in% lots_year_2)
50 * number_in_year_1 * number_in_year_2 / number_in_year_1_and_2
}
df_Hunts_Point_Mott_Haven <- sapply(2011:2021, capture_recapture_the_bronx_n4)
df_Hunts_Point_Mott_Haven <- as.data.frame(df_Hunts_Point_Mott_Haven)
df_Hunts_Point_Mott_Haven <- df_Hunts_Point_Mott_Haven %>%
add_column(Neighborhood = "HUNTS POINT AND MOTT HAVEN",
.after = "df_Hunts_Point_Mott_Haven")
df_Hunts_Point_Mott_Haven <- df_Hunts_Point_Mott_Haven %>%
add_column(Year = 2011:2021,
.after = "Neighborhood")
df_Hunts_Point_Mott_Haven <- rename(df_Hunts_Point_Mott_Haven, numRats = df_Hunts_Point_Mott_Haven)
capture_recapture_the_bronx_n5 <- function(year) {
lots_year_1 <- df_Kingsbridge_Riverdale %>% filter(Year == year - 1) %>% pull(BBL)
lots_year_2 <- df_Kingsbridge_Riverdale %>% filter(Year == year) %>% pull(BBL)
number_in_year_1 <- length(lots_year_1)
number_in_year_2 <- length(lots_year_2)
number_in_year_1_and_2 <- sum(lots_year_1 %in% lots_year_2)
50 * number_in_year_1 * number_in_year_2 / number_in_year_1_and_2
}
df_Kingsbridge_Riverdale <- sapply(2011:2021, capture_recapture_the_bronx_n5)
df_Kingsbridge_Riverdale <- as.data.frame(df_Kingsbridge_Riverdale)
df_Kingsbridge_Riverdale <- df_Kingsbridge_Riverdale %>%
add_column(Neighborhood = "KINGSBRIDGE AND RIVERDALE",
.after = "df_Kingsbridge_Riverdale")
df_Kingsbridge_Riverdale <- df_Kingsbridge_Riverdale %>%
add_column(Year = 2011:2021,
.after = "Neighborhood")
df_Kingsbridge_Riverdale <- rename(df_Kingsbridge_Riverdale, numRats = df_Kingsbridge_Riverdale)
capture_recapture_the_bronx_n6 <- function(year) {
lots_year_1 <- df_Northeast_Bronx %>% filter(Year == year - 1) %>% pull(BBL)
lots_year_2 <- df_Northeast_Bronx %>% filter(Year == year) %>% pull(BBL)
number_in_year_1 <- length(lots_year_1)
number_in_year_2 <- length(lots_year_2)
number_in_year_1_and_2 <- sum(lots_year_1 %in% lots_year_2)
50 * number_in_year_1 * number_in_year_2 / number_in_year_1_and_2
}
df_Northeast_Bronx <- sapply(2011:2021, capture_recapture_the_bronx_n6)
df_Northeast_Bronx <- as.data.frame(df_Northeast_Bronx)
df_Northeast_Bronx <- df_Northeast_Bronx %>%
add_column(Neighborhood = "NORTHEAST BRONX",
.after = "df_Northeast_Bronx")
df_Northeast_Bronx <- df_Northeast_Bronx %>%
add_column(Year = 2011:2021,
.after = "Neighborhood")
df_Northeast_Bronx <- rename(df_Northeast_Bronx, numRats = df_Northeast_Bronx)
capture_recapture_the_bronx_n7 <- function(year) {
lots_year_1 <- df_Southeast_Bronx %>% filter(Year == year - 1) %>% pull(BBL)
lots_year_2 <- df_Southeast_Bronx %>% filter(Year == year) %>% pull(BBL)
number_in_year_1 <- length(lots_year_1)
number_in_year_2 <- length(lots_year_2)
number_in_year_1_and_2 <- sum(lots_year_1 %in% lots_year_2)
50 * number_in_year_1 * number_in_year_2 / number_in_year_1_and_2
}
df_Southeast_Bronx <- sapply(2011:2021, capture_recapture_the_bronx_n7)
df_Southeast_Bronx <- as.data.frame(df_Southeast_Bronx)
df_Southeast_Bronx <- df_Southeast_Bronx %>%
add_column(Neighborhood = "SOUTHEAST BRONX",
.after = "df_Southeast_Bronx")
df_Southeast_Bronx <- df_Southeast_Bronx %>%
add_column(Year = 2011:2021,
.after = "Neighborhood")
df_Southeast_Bronx <- rename(df_Southeast_Bronx, numRats = df_Southeast_Bronx)
df_The_Bronx_Neighborhood_Rats <- rbind(df_Central_Bronx, df_Bronx_Park_Fordham, df_High_Bridge_Morrisania, df_Hunts_Point_Mott_Haven, df_Kingsbridge_Riverdale, df_Northeast_Bronx, df_Southeast_Bronx)
graphBronxTotal.static <- ggplot(df_The_Bronx_Neighborhood_Rats, aes(x = Year, y = numRats, color = Neighborhood)) +
geom_line(size = 1.5) +
scale_x_continuous(breaks = seq(2011,2021, by = 1)) +
scale_y_continuous(breaks = seq(0,250000, by = 25000)) +
labs (title = "Rat Population In Each Borough Over Time", subtitle = "Do rats proliferate faster in certain Boroughs?", x = "Year", y = "Population" ) +
theme_fivethirtyeight() +
theme(axis.title = element_text())
ggsave("graphBronxTotalN.png", height = 1440, width = 2560, units = "px")
graphStatenBlanket.static <- ggplot(df_The_Bronx_Num_Rats, aes(x = Year, y = numRats, color = Borough)) +
geom_line(size = 1.5) +
scale_x_continuous(breaks = seq(2011,2021, by = 1)) +
scale_y_continuous(breaks = seq(0,250000, by = 25000)) +
labs (title = "Rat Population In Each Borough Over Time", subtitle = "Do rats proliferate faster in certain Boroughs?", x = "Year", y = "Population" ) +
theme_fivethirtyeight() +
theme(axis.title = element_text())
ggsave("graphBronxBlanket.png", height = 1440, width = 2560, units = "px")
View(df_The_Bronx_Num_Rats)
View(df_The_Bronx_Neighborhood_Rats)
View(df_The_Bronx_Num_Rats)
graphBronxTotal.static <- ggplot(df_The_Bronx_Neighborhood_Rats, aes(x = Year, y = numRats, color = Neighborhood)) +
geom_line(size = 1.5) +
scale_x_continuous(breaks = seq(2011,2021, by = 1)) +
scale_y_continuous(breaks = seq(0,250000, by = 25000)) +
labs (title = "Rat Population In Each Borough Over Time", subtitle = "Do rats proliferate faster in certain Boroughs?", x = "Year", y = "Population" ) +
theme_fivethirtyeight() +
theme(axis.title = element_text())
ggsave("graphBronxTotalN.png", height = 2400, width = 3840, units = "px")
graphStatenTotal.static <- ggplot(df_Staten_Island_Neighborhood_Rats, aes(x = Year, y = numRats, color = Neighborhood)) +
geom_line(size = 1.5) +
scale_x_continuous(breaks = seq(2011,2021, by = 1)) +
scale_y_continuous(breaks = seq(0,250000, by = 25000)) +
labs (title = "Rat Population In Each Borough Over Time", subtitle = "Do rats proliferate faster in certain Boroughs?", x = "Year", y = "Population" ) +
theme_fivethirtyeight() +
theme(axis.title = element_text())
ggsave("graphStatenTotalN.png", height = 2400, width = 3840, units = "px")
View(df_South_Shore)
View(df_Staten_Island_Neighborhood_Rats)
View(df_Staten_Island_Num_Rats)
View(df_The_Bronx_Neighborhood_Rats)
View(df_The_Bronx_Num_Rats)
df_Northeast_Queens <- df_NYC %>% filter(Zip%in% c(11361, 11362, 11363, 11364))
df_Northeast_Queens$Neighborhood <- "NORTHEAST QUEENS"
df_North_Queens <- df_NYC %>% filter(Zip%in% c(11354, 11355, 11356, 11357, 11358, 11359, 11360))
df_North_Queens$Neighborhood <- "NORTH QUEENS"
df_Central_Queens <- df_NYC %>% filter(Zip%in% c(11365, 11366, 11367))
df_Central_Queens$Neighborhood <- "CENTRAL QUEENS"
df_Jamaica <- df_NYC %>% filter(Zip%in% c(11412, 11423, 11432, 11433, 11434, 11435, 11436))
df_Jamaica$Neighborhood <- "JAMAICA"
df_Northwest_Queens <- df_NYC %>% filter(Zip%in% c(11101, 11102, 11103, 11104, 11105, 11106))
df_Northwest_Queens$Neighborhood <- "NORTHWEST QUEENS"
df_West_Central_Queens <- df_NYC %>% filter(Zip%in% c(11374, 11375, 11379, 11385))
df_West_Central_Queens$Neighborhood <- "WEST CENTRAL QUEENS"
df_Rockaways <- df_NYC %>% filter(Zip%in% c(11691, 11692, 11693, 11694, 11695, 11697))
df_Rockaways$Neighborhood <- "ROCKAWAYS"
df_Southeast_Queens <- df_NYC %>% filter(Zip%in% c(11004, 11005, 11411, 11413, 11422, 11426, 11427, 11428, 11429))
df_Southeast_Queens$Neighborhood <- "SOUTHEAST QUEENS"
df_Southwest_Queens <- df_NYC %>% filter(Zip%in% c(11414, 11415, 11416, 11417, 11418, 11419, 11420, 11421))
df_Southwest_Queens$Neighborhood <- "SOUTHWEST QUEENS"
df_West_Queens <- df_NYC %>% filter(Zip%in% c(11368, 11369, 11370, 11372, 11373, 11377, 11378))
df_West_Queens$Neighborhood <- "WEST QUEENS"
df_Queens <- rbind(df_Northeast_Queens, df_North_Queens, df_Central_Queens, df_Jamaica, df_Northwest_Queens, df_West_Central_Queens, df_Rockaways, df_Southeast_Queens, df_Southwest_Queens, df_West_Queens)
rm(df_Northeast_Queens, df_North_Queens, df_Central_Queens, df_Jamaica, df_Northwest_Queens, df_West_Central_Queens, df_Rockaways, df_Southeast_Queens, df_Southwest_Queens, df_West_Queens)
View(capture_recapture_brooklyn)
View(df_Southeast_Bronx)
View(df_Southeast_Bronx)
View(df_Bushwick_Williamsburg)
View(df_East_NY_New_Lots)
View(df_Canarsie_Flatlands)
capture_recapture_brooklyn_n1 <- function(year) {
lots_year_1 <- df_Central_Brooklyn %>% filter(Year == year - 1) %>% pull(BBL)
lots_year_2 <- df_Central_Brooklyn %>% filter(Year == year) %>% pull(BBL)
number_in_year_1 <- length(lots_year_1)
number_in_year_2 <- length(lots_year_2)
number_in_year_1_and_2 <- sum(lots_year_1 %in% lots_year_2)
50 * number_in_year_1 * number_in_year_2 / number_in_year_1_and_2
}
df_Central_Brooklyn <- sapply(2011:2021, capture_recapture_brooklyn_n1)
df_Central_Brooklyn <- as.data.frame(df_Central_Brooklyn)
df_Central_Brooklyn <- df_Central_Brooklyn %>%
add_column(Neighborhood = "CENTRAL BROOKLYN",
.after = "df_Central_Brooklyn")
df_Central_Brooklyn <- df_Central_Brooklyn %>%
add_column(Year = 2011:2021,
.after = "Neighborhood")
df_Central_Brooklyn <- rename(df_Central_Brooklyn, numRats = df_Central_Brooklyn)
capture_recapture_brooklyn_n2 <- function(year) {
lots_year_1 <- df_Southwest_Brooklyn %>% filter(Year == year - 1) %>% pull(BBL)
lots_year_2 <- df_Southwest_Brooklyn %>% filter(Year == year) %>% pull(BBL)
number_in_year_1 <- length(lots_year_1)
number_in_year_2 <- length(lots_year_2)
number_in_year_1_and_2 <- sum(lots_year_1 %in% lots_year_2)
50 * number_in_year_1 * number_in_year_2 / number_in_year_1_and_2
}
df_Southwest_Brooklyn <- sapply(2011:2021, capture_recapture_brooklyn_n2)
df_Southwest_Brooklyn <- as.data.frame(df_Southwest_Brooklyn)
df_Southwest_Brooklyn <- df_Southwest_Brooklyn %>%
add_column(Neighborhood = "SOUTHWEST BROOKLYN",
.after = "df_Southwest_Brooklyn")
df_Southwest_Brooklyn <- df_Southwest_Brooklyn %>%
add_column(Year = 2011:2021,
.after = "Neighborhood")
df_Southwest_Brooklyn <- rename(df_Southwest_Brooklyn, numRats = df_Southwest_Brooklyn)
capture_recapture_brooklyn_n3 <- function(year) {
lots_year_1 <- df_Borough_Park %>% filter(Year == year - 1) %>% pull(BBL)
lots_year_2 <- df_Borough_Park %>% filter(Year == year) %>% pull(BBL)
number_in_year_1 <- length(lots_year_1)
number_in_year_2 <- length(lots_year_2)
number_in_year_1_and_2 <- sum(lots_year_1 %in% lots_year_2)
50 * number_in_year_1 * number_in_year_2 / number_in_year_1_and_2
}
df_Borough_Park <- sapply(2011:2021, capture_recapture_brooklyn_n3)
df_Borough_Park <- as.data.frame(df_Borough_Park)
df_Borough_Park <- df_Borough_Park %>%
add_column(Neighborhood = "BOROUGH PARK",
.after = "df_Borough_Park")
df_Borough_Park <- df_Borough_Park %>%
add_column(Year = 2011:2021,
.after = "Neighborhood")
df_Borough_Park <- rename(df_Borough_Park, numRats = df_Borough_Park)
capture_recapture_brooklyn_n4 <- function(year) {
lots_year_1 <- df_Canarsie_Flatlands %>% filter(Year == year - 1) %>% pull(BBL)
lots_year_2 <- df_Canarsie_Flatlands %>% filter(Year == year) %>% pull(BBL)
number_in_year_1 <- length(lots_year_1)
number_in_year_2 <- length(lots_year_2)
number_in_year_1_and_2 <- sum(lots_year_1 %in% lots_year_2)
50 * number_in_year_1 * number_in_year_2 / number_in_year_1_and_2
}
df_Canarsie_Flatlands <- sapply(2011:2021, capture_recapture_brooklyn_n4)
df_Canarsie_Flatlands <- as.data.frame(df_Canarsie_Flatlands)
df_Canarsie_Flatlands <- df_Canarsie_Flatlands %>%
add_column(Neighborhood = "CANARSIE AND FLATLANDS",
.after = "df_Canarsie_Flatlands")
df_Canarsie_Flatlands <- df_Canarsie_Flatlands %>%
add_column(Year = 2011:2021,
.after = "Neighborhood")
df_Canarsie_Flatlands <- rename(df_Canarsie_Flatlands, numRats = df_Canarsie_Flatlands)
capture_recapture_brooklyn_n5 <- function(year) {
lots_year_1 <- df_Southern_Brooklyn %>% filter(Year == year - 1) %>% pull(BBL)
lots_year_2 <- df_Southern_Brooklyn %>% filter(Year == year) %>% pull(BBL)
number_in_year_1 <- length(lots_year_1)
number_in_year_2 <- length(lots_year_2)
number_in_year_1_and_2 <- sum(lots_year_1 %in% lots_year_2)
50 * number_in_year_1 * number_in_year_2 / number_in_year_1_and_2
}
df_Southern_Brooklyn <- sapply(2011:2021, capture_recapture_brooklyn_n5)
df_Southern_Brooklyn <- as.data.frame(df_Southern_Brooklyn)
df_Southern_Brooklyn <- df_Southern_Brooklyn %>%
add_column(Neighborhood = "SOUTHERN BROOKLYN",
.after = "df_Southern_Brooklyn")
df_Southern_Brooklyn <- df_Southern_Brooklyn %>%
add_column(Year = 2011:2021,
.after = "Neighborhood")
df_Southern_Brooklyn <- rename(df_Southern_Brooklyn, numRats = df_Southern_Brooklyn)
capture_recapture_brooklyn_n6 <- function(year) {
lots_year_1 <- df_Northwest_Brooklyn %>% filter(Year == year - 1) %>% pull(BBL)
lots_year_2 <- df_Northwest_Brooklyn %>% filter(Year == year) %>% pull(BBL)
number_in_year_1 <- length(lots_year_1)
number_in_year_2 <- length(lots_year_2)
number_in_year_1_and_2 <- sum(lots_year_1 %in% lots_year_2)
50 * number_in_year_1 * number_in_year_2 / number_in_year_1_and_2
}
df_Northwest_Brooklyn <- sapply(2011:2021, capture_recapture_brooklyn_n6)
df_Northwest_Brooklyn <- as.data.frame(df_Northwest_Brooklyn)
df_Northwest_Brooklyn <- df_Northwest_Brooklyn %>%
add_column(Neighborhood = "NORTHWEST BROOKLYN",
.after = "df_Northwest_Brooklyn")
df_Northwest_Brooklyn <- df_Northwest_Brooklyn %>%
add_column(Year = 2011:2021,
.after = "Neighborhood")
df_Northwest_Brooklyn <- rename(df_Northwest_Brooklyn, numRats = df_Northwest_Brooklyn)
capture_recapture_brooklyn_n7 <- function(year) {
lots_year_1 <- df_Flatbush %>% filter(Year == year - 1) %>% pull(BBL)
lots_year_2 <- df_Flatbush %>% filter(Year == year) %>% pull(BBL)
number_in_year_1 <- length(lots_year_1)
number_in_year_2 <- length(lots_year_2)
number_in_year_1_and_2 <- sum(lots_year_1 %in% lots_year_2)
50 * number_in_year_1 * number_in_year_2 / number_in_year_1_and_2
}
df_Flatbush <- sapply(2011:2021, capture_recapture_brooklyn_n7)
df_Flatbush <- as.data.frame(df_Flatbush)
df_Flatbush <- df_Flatbush %>%
add_column(Neighborhood = "FLATBUSH",
.after = "df_Flatbush")
df_Flatbush <- df_Flatbush %>%
add_column(Year = 2011:2021,
.after = "Neighborhood")
df_Flatbush <- rename(df_Flatbush, numRats = df_Flatbush)
capture_recapture_brooklyn_n8 <- function(year) {
lots_year_1 <- df_East_NY_New_Lots %>% filter(Year == year - 1) %>% pull(BBL)
lots_year_2 <- df_East_NY_New_Lots %>% filter(Year == year) %>% pull(BBL)
number_in_year_1 <- length(lots_year_1)
number_in_year_2 <- length(lots_year_2)
number_in_year_1_and_2 <- sum(lots_year_1 %in% lots_year_2)
50 * number_in_year_1 * number_in_year_2 / number_in_year_1_and_2
}
df_East_NY_New_Lots <- sapply(2011:2021, capture_recapture_brooklyn_n8)
df_East_NY_New_Lots <- as.data.frame(df_East_NY_New_Lots)
df_East_NY_New_Lots <- df_East_NY_New_Lots %>%
add_column(Neighborhood = "EAST NEW YORK AND NEW LOTS",
.after = "df_East_NY_New_Lots")
df_East_NY_New_Lots <- df_East_NY_New_Lots %>%
add_column(Year = 2011:2021,
.after = "Neighborhood")
df_East_NY_New_Lots <- rename(df_East_NY_New_Lots, numRats = df_East_NY_New_Lots)
capture_recapture_brooklyn_n9 <- function(year) {
lots_year_1 <- df_Greenpoint %>% filter(Year == year - 1) %>% pull(BBL)
lots_year_2 <- df_Greenpoint %>% filter(Year == year) %>% pull(BBL)
number_in_year_1 <- length(lots_year_1)
number_in_year_2 <- length(lots_year_2)
number_in_year_1_and_2 <- sum(lots_year_1 %in% lots_year_2)
50 * number_in_year_1 * number_in_year_2 / number_in_year_1_and_2
}
df_Greenpoint <- sapply(2011:2021, capture_recapture_brooklyn_n9)
df_Greenpoint <- as.data.frame(df_Greenpoint)
df_Greenpoint <- df_Greenpoint %>%
add_column(Neighborhood = "GREENPOINT",
.after = "df_Greenpoint")
df_Greenpoint <- df_Greenpoint %>%
add_column(Year = 2011:2021,
.after = "Neighborhood")
df_Greenpoint <- rename(df_Greenpoint, numRats = df_Greenpoint)
capture_recapture_brooklyn_n10 <- function(year) {
lots_year_1 <- df_Sunset_Park %>% filter(Year == year - 1) %>% pull(BBL)
lots_year_2 <- df_Sunset_Park %>% filter(Year == year) %>% pull(BBL)
number_in_year_1 <- length(lots_year_1)
number_in_year_2 <- length(lots_year_2)
number_in_year_1_and_2 <- sum(lots_year_1 %in% lots_year_2)
50 * number_in_year_1 * number_in_year_2 / number_in_year_1_and_2
}
df_Sunset_Park <- sapply(2011:2021, capture_recapture_brooklyn_n10)
df_Sunset_Park <- as.data.frame(df_Sunset_Park)
df_Sunset_Park <- df_Sunset_Park %>%
add_column(Neighborhood = "SUNSET PARK",
.after = "df_Sunset_Park")
df_Sunset_Park <- df_Sunset_Park %>%
add_column(Year = 2011:2021,
.after = "Neighborhood")
df_Sunset_Park <- rename(df_Sunset_Park, numRats = df_Sunset_Park)
capture_recapture_brooklyn_n11 <- function(year) {
lots_year_1 <- df_Bushwick_Williamsburg %>% filter(Year == year - 1) %>% pull(BBL)
lots_year_2 <- df_Bushwick_Williamsburg %>% filter(Year == year) %>% pull(BBL)
number_in_year_1 <- length(lots_year_1)
number_in_year_2 <- length(lots_year_2)
number_in_year_1_and_2 <- sum(lots_year_1 %in% lots_year_2)
50 * number_in_year_1 * number_in_year_2 / number_in_year_1_and_2
}
df_Bushwick_Williamsburg <- sapply(2011:2021, capture_recapture_brooklyn_n11)
df_Bushwick_Williamsburg <- as.data.frame(df_Bushwick_Williamsburg)
df_Bushwick_Williamsburg <- df_Bushwick_Williamsburg %>%
add_column(Neighborhood = "BUSHWICK AND WILLIAMSBURG",
.after = "df_Bushwick_Williamsburg")
df_Bushwick_Williamsburg <- df_Bushwick_Williamsburg %>%
add_column(Year = 2011:2021,
.after = "Neighborhood")
df_Bushwick_Williamsburg <- rename(df_Bushwick_Williamsburg, numRats = df_Bushwick_Williamsburg)
df_Brooklyn_Neighborhood_Rats <- rbind(df_Central_Brooklyn, df_Southwest_Brooklyn, df_Borough_Park, df_Canarsie_Flatlands, df_Southern_Brooklyn, df_Northwest_Brooklyn, df_Flatbush, df_East_NY_New_Lots, df_Greenpoint, df_Bushwick_Williamsburg, df_Sunset_Park)
graphBronxTotal.static <- ggplot(df_The_Bronx_Neighborhood_Rats, aes(x = Year, y = numRats, color = Neighborhood)) +
geom_line(size = 1.5) +
scale_x_continuous(breaks = seq(2011,2021, by = 1)) +
scale_y_continuous(breaks = seq(0,250000, by = 25000)) +
labs (title = "Rat Population In Each Borough Over Time", subtitle = "Do rats proliferate faster in certain Boroughs?", x = "Year", y = "Population" ) +
theme_fivethirtyeight() +
theme(axis.title = element_text())
ggsave("graphBronxTotalN.png", height = 2400, width = 3840, units = "px")
df_Brooklyn_Neighborhood_Rats <- rbind(df_Central_Brooklyn, df_Southwest_Brooklyn, df_Borough_Park, df_Canarsie_Flatlands, df_Southern_Brooklyn, df_Northwest_Brooklyn, df_Flatbush, df_East_NY_New_Lots, df_Greenpoint, df_Bushwick_Williamsburg, df_Sunset_Park)
graphBrooklynTotal.static <- ggplot(df_Brooklyn_Neighborhood_Rats, aes(x = Year, y = numRats, color = Neighborhood)) +
geom_line(size = 1.5) +
scale_x_continuous(breaks = seq(2011,2021, by = 1)) +
scale_y_continuous(breaks = seq(0,250000, by = 25000)) +
labs (title = "Rat Population In Each Borough Over Time", subtitle = "Do rats proliferate faster in certain Boroughs?", x = "Year", y = "Population" ) +
theme_fivethirtyeight() +
theme(axis.title = element_text())
ggsave("graphBrooklynTotalN.png", height = 2400, width = 3840, units = "px")
df_The_Bronx_Neighborhood_Rats <- rbind(df_Central_Bronx, df_Bronx_Park_Fordham, df_High_Bridge_Morrisania, df_Hunts_Point_Mott_Haven, df_Kingsbridge_Riverdale, df_Northeast_Bronx, df_Southeast_Bronx)
graphBronxTotal.static <- ggplot(df_The_Bronx_Neighborhood_Rats, aes(x = Year, y = numRats, color = Neighborhood)) +
geom_line(size = 1.5) +
scale_x_continuous(breaks = seq(2011,2021, by = 1)) +
scale_y_continuous(breaks = seq(0,250000, by = 25000)) +
labs (title = "Rat Population In Each Borough Over Time", subtitle = "Do rats proliferate faster in certain Boroughs?", x = "Year", y = "Population" ) +
theme_fivethirtyeight() +
theme(axis.title = element_text())
ggsave("graphBronxTotalN.png", height = 2400, width = 3840, units = "px")
